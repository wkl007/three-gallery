(self.webpackChunkthree_gallery=self.webpackChunkthree_gallery||[]).push([[251],{4817:function(e,n,t){"use strict";t.d(n,{K:function(){return l}});var i=t(2212),r=t(105),o=t(3466),a=t.n(o),c=t(3555);function l(e,n,t,o,l,p,d,u,s){var m=window.innerWidth,w=window.innerHeight,v=window.devicePixelRatio,h=200;return{initScene:function(){return e=new i.Scene},initCamera:function(){var t=m/w;return(n=new i.OrthographicCamera(-h*t,h*t,h,-h,1,1e3)).position.set(200,200,200),n.lookAt(e.position),n},initRenderer:function(e){return(t=new i.WebGLRenderer).setPixelRatio(v),t.setSize(m,w),t.setClearColor(12178431),e.appendChild(t.domElement),t},initLight:function(){(o=new i.DirectionalLight(16777215)).position.set(400,200,300),e.add(o),l=new i.AmbientLight(4473924),e.add(l)},initControls:function(){return(u=new r.Z(n,t.domElement)).draggingDampingFactor=1,u},initClock:function(){return new i.Clock},initHelpers:function(){p=new i.AxesHelper(250),e.add(p)},initStats:function(e){return(d=new(a())).showPanel(0),d.dom.style.position="absolute",d.dom.style.left="0px",d.dom.style.top="0px",e&&e.appendChild(d.dom),d},windowResize:(0,c.vA)((function(){var e=window.innerWidth,i=window.innerHeight,r=e/i;n.left=-h*r,n.right=h*r,n.top=h,n.bottom=-h,n.updateProjectionMatrix(),t.setSize(e,i)}),100)}}r.Z.install({THREE:i})},2634:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var i=t(5393),r={id:"three",ref:"three"};var o,a,c,l,p,d,u,s,m,w,v=t(2212),h=t(4817),f=new v.Clock,g=(0,i.aZ)({name:"gallery9",setup:function(){var e=(0,i.iH)(document.createElement("div")),n=(0,h.K)(o,a,c,undefined,undefined,undefined,l,p,d),t=n.initScene,r=n.initCamera,g=n.initRenderer,x=n.initLight,C=n.initHelpers,y=n.initStats,S=n.windowResize,T=n.initControls,M=n.initClock;function R(){var e=f.getDelta();o&&c.render(o,a),l&&l.update(),p&&p.update(d.getDelta()),u=requestAnimationFrame(R),m.time.value+=e,s.rotation.y-=.005,w&&w.update(e)}function k(e){var n,i,u;o=t(),a=r(),(c=g(e)).setClearColor(0),l=y(e),p=T(),d=M(),x(),C(),function(){var e="https://cache-1256738511.cos.ap-chengdu.myqcloud.com/images/earth/",n=new v.TextureLoader;s=new v.Group;var t=n.load("".concat(e,"light.png")),i=new v.SpriteMaterial({map:t,transparent:!0,opacity:.6}),r=new v.Sprite(i);r.scale.set(245,245,1),s.add(r);var a=new v.SphereGeometry(100,100,100),c=n.load("".concat(e,"earth.png")),l=n.load("".concat(e,"earth_normal.png")),p=n.load("".concat(e,"earth_spec.png")),d=new v.MeshPhongMaterial({map:c,normalMap:l,normalScale:new v.Vector2(2.9,2.9),shininess:40,specularMap:p,transparent:!0,opacity:.7}),u=new v.Mesh(a,d),w=new v.SphereGeometry(100.001,100,100),h=n.load("".concat(e,"noise.png")),f=n.load("".concat(e,"atmosphere.png"));h.wrapS=v.RepeatWrapping,h.wrapT=v.RepeatWrapping,f.wrapS=v.RepeatWrapping,f.wrapT=v.RepeatWrapping,m={time:{value:1},texture1:{value:h},texture2:{value:f},opacity:{value:.4}};var g=new v.ShaderMaterial({uniforms:m,vertexShader:"varying vec2 texCoord;void main(){texCoord = uv;vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );gl_Position = projectionMatrix * mvPosition;}",fragmentShader:"uniform float time;uniform sampler2D texture1;uniform sampler2D texture2;varying vec2 texCoord;uniform float opacity;void main(  ) {vec4 noise = texture2D( texture1, texCoord );vec2 T1 = texCoord + vec2( 1.5, -1.5 ) * time  * 0.01;vec2 T2 = texCoord + vec2( -0.5, 2.0 ) * time *  0.01;T1.x -= noise.r * 2.0;T1.y += noise.g * 4.0;T2.x += noise.g * 0.2;T2.y += noise.b * 0.2;float p = texture2D( texture1, T1 * 2.0 ).a + 0.25;vec4 color = texture2D( texture2, T2 );vec4 temp = color * 2.0 * ( vec4( p, p, p, p ) ) + ( color * color );  gl_FragColor = vec4(temp.rgb,temp.a*opacity);}",transparent:!0}),x=new v.Mesh(w,g);s.add(u,x),o.add(s)}(),n=new v.KeyframeTrack(".scale",[0,5],[.01,.01,.01,1,1,1]),i=new v.AnimationClip("default",5,[n]),(u=(w=new v.AnimationMixer(s)).clipAction(i,s)).loop=v.LoopOnce,u.clampWhenFinished=!0,u.play(),R()}return(0,i.bv)((function(){k(e.value),window.addEventListener("resize",S)})),(0,i.Jd)((function(){cancelAnimationFrame(u),p&&p.dispose(),window.removeEventListener("resize",S)})),{three:e}}});g.render=function(e,n,t,o,a,c){return(0,i.wg)(),(0,i.j4)("div",r,null,512)};var x=g}}]);